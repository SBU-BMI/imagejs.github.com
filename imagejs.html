<html>
<body>
	<div id="msg">drag image to start </div>
	<canvas id="cvBase" style="border:solid 1px">sorry, your browser does not support HTML5</canvas>
	
	<script src="http://jmat.googlecode.com/git/jmat.js"></script>
	<script src="imagejs.js"></script>
	<script>
	// based on http://www.html5rocks.com/en/tutorials/file/dndfiles/
	
	function handleFileSelect(evt) {
		evt.stopPropagation();
		evt.preventDefault();
		imagejs.readImage(evt.dataTransfer.files);
	}

	function handleDragOver(evt) {
		evt.stopPropagation();
		evt.preventDefault();
		evt.dataTransfer.dropEffect = 'copy'; // Explicitly show this is a copy.
	}

	// Setup the dnd listeners.
	var dropZone = document.getElementById('cvBase');
	dropZone.addEventListener('dragover', handleDragOver, false);
	dropZone.addEventListener('drop', handleFileSelect, false);
	</script>

</body>
</html>